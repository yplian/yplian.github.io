{"title":"sticky定位示例","slug":"sticky定位示例","date":"2023-11-05T07:04:15.000Z","updated":"2023-11-05T07:04:15.000Z","comments":true,"path":"api/articles/sticky定位示例.json","excerpt":"粘性定位区别于其他的定位方式，目前浏览器兼容性良好，使用起来很方便，但是不是很好理解使用，列举几个实现效果。<br>","covers":null,"content":"<p>粘性定位区别于其他的定位方式，目前浏览器兼容性良好，使用起来很方便，但是不是很好理解使用，列举几个实现效果。<br><a id=\"more\"></a></p>\n<h2 id=\"基础概念使用\"><a href=\"#基础概念使用\" class=\"headerlink\" title=\"基础概念使用\"></a>基础概念使用</h2><p>MDN中简单的介绍了它的<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/position#%E7%B2%98%E6%80%A7%E5%AE%9A%E4%BD%8D\" target=\"_blank\" rel=\"noopener\">概念</a>。</p>\n<blockquote>\n<p>元素根据正常文档流进行定位，然后相对它的最近滚动祖先（nearest scrolling ancestor）和 containing block（最近块级祖先 nearest block-level ancestor），包括 table-related 元素，基于 top、right、bottom 和 left 的值进行偏移。偏移值不会影响任何其他元素的位置。 该值总是创建一个新的层叠上下文（stacking context）。注意，一个 sticky 元素会“固定”在离它最近的一个拥有“滚动机制”的祖先上（当该祖先的 overflow 是 hidden、scroll、auto 或 overlay 时），即便这个祖先不是最近的真实可滚动祖先。这有效地抑制了任何“sticky”行为</p>\n</blockquote>\n<hr>\n<p>简单来说，就是以下几点：</p>\n<ul>\n<li>如果父元素position不是static，就会根据父元素定位，如果不是，往上查找滚动的非标准元素（position不是static）</li>\n<li>这个元素本身是标准流的元素，类似static</li>\n<li>当设置了top/bottom/left/right，会在到达指定偏移量后浮动，类似fixed</li>\n</ul>\n<h2 id=\"相对于底部浮动\"><a href=\"#相对于底部浮动\" class=\"headerlink\" title=\"相对于底部浮动\"></a>相对于底部浮动</h2><p>设置相对于顶部只需要设置top，在可视区域内，向下滚动，父元素相对可视区域顶部消失时，粘性定位元素就会生效。</p>\n<p>如果想要针对实现，父元素相对可视区域底部出现，固定显示需要一点技巧。</p>\n<h3 id=\"演示\"><a href=\"#演示\" class=\"headerlink\" title=\"演示\"></a>演示</h3><iframe scrolling=\"no\" width=\"100%\" height=\"300\" src=\"//jsfiddle.net/yplian/mx0y9rp2/2/embedded/result,html,css/light\" frameborder=\"0\" allowfullscreen></iframe>\n<h3 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">    .box &#123;</span><br><span class=\"line\">        width: 100%;</span><br><span class=\"line\">        height: 2000px;</span><br><span class=\"line\">        background: skyblue;</span><br><span class=\"line\">        border: 1px solid red;</span><br><span class=\"line\">        position: relative;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    .sticky &#123;</span><br><span class=\"line\">        position: sticky;</span><br><span class=\"line\">        bottom: 0px;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    .content &#123;</span><br><span class=\"line\">        width: 100%;</span><br><span class=\"line\">        background: yellowgreen;</span><br><span class=\"line\">        border: 1px solid saddlebrown;</span><br><span class=\"line\">        position: absolute;</span><br><span class=\"line\">        bottom: 20px;</span><br><span class=\"line\">        box-sizing: border-box;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"height: 200px;\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"box\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"height: 100%;\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"sticky\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"content\"</span>&gt;</span></span><br><span class=\"line\">      这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"height: 800px;\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"固定底图文字从底部向上滑动\"><a href=\"#固定底图文字从底部向上滑动\" class=\"headerlink\" title=\"固定底图文字从底部向上滑动\"></a>固定底图文字从底部向上滑动</h2><p>全屏背景图，向上滑动时，文字从底部移动至中间。</p>\n<h3 id=\"演示-1\"><a href=\"#演示-1\" class=\"headerlink\" title=\"演示\"></a>演示</h3><iframe scrolling=\"no\" width=\"100%\" height=\"300\" src=\"//jsfiddle.net/yplian/dc81Le0p/5/embedded/result,html,css/light\" frameborder=\"0\" allowfullscreen></iframe>\n<h3 id=\"代码-1\"><a href=\"#代码-1\" class=\"headerlink\" title=\"代码\"></a>代码</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">    /* 加上 -webkit- 注意兼容 */</span><br><span class=\"line\">    h1 &#123;</span><br><span class=\"line\">    background: -webkit-linear-gradient(135deg,</span><br><span class=\"line\">        #0eaf6d,</span><br><span class=\"line\">        #ff6ac6 25%,</span><br><span class=\"line\">        #147b96 50%,</span><br><span class=\"line\">        #e6d205 55%,</span><br><span class=\"line\">        #2cc4e0 60%,</span><br><span class=\"line\">        #8b2ce0 80%,</span><br><span class=\"line\">        #ff6384 95%,</span><br><span class=\"line\">        #08dfb4);</span><br><span class=\"line\">        /* 文字颜色填充设置为透明 */</span><br><span class=\"line\">        -webkit-text-fill-color: transparent;</span><br><span class=\"line\">        /* 背景裁剪，即让文字使用背景色 */</span><br><span class=\"line\">        -webkit-background-clip: text;</span><br><span class=\"line\">        /* 背景图放大一下，看着柔和一些 */</span><br><span class=\"line\">        -webkit-background-size: 200% 100%;</span><br><span class=\"line\">        /* 应用动画flowCss 12秒速度 无限循环 线性匀速动画*/</span><br><span class=\"line\">        -webkit-animation: flowCss 12s infinite linear;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @-webkit-keyframes flowCss &#123;</span><br><span class=\"line\">    0% &#123;</span><br><span class=\"line\">        /* 移动背景位置 */</span><br><span class=\"line\">        background-position: 0 0;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    100% &#123;</span><br><span class=\"line\">        background-position: -400% 0;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    h1:hover &#123;</span><br><span class=\"line\">        animation: flowCss 4s infinite linear;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    .banner-wrap &#123;</span><br><span class=\"line\">        width: 100%;</span><br><span class=\"line\">        /* 需要设置大于一屏的高度，多余的高度用来承载滚动的文字 */</span><br><span class=\"line\">        height: 180vh;</span><br><span class=\"line\">        position: relative;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    .banner-sticky-box &#123;</span><br><span class=\"line\">        width: 100%;</span><br><span class=\"line\">        /* 一定要设置为一屏的高度 */</span><br><span class=\"line\">        height: 100vh;</span><br><span class=\"line\">        position: sticky;</span><br><span class=\"line\">        top: 0;</span><br><span class=\"line\">        transition: 0.1s;</span><br><span class=\"line\">        /* background: skyblue; */</span><br><span class=\"line\">        background: url('https://www.baidu.com/img/PCfb_5bf082d29588c07f842ccde3f97243ea.png');</span><br><span class=\"line\"></span><br><span class=\"line\">        text-align: center;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    .banner-scrollytxt &#123;</span><br><span class=\"line\">        width: 60%;</span><br><span class=\"line\">        max-width: 640px;</span><br><span class=\"line\">        position: absolute;</span><br><span class=\"line\">        bottom: 50vh;</span><br><span class=\"line\">        left: 50%;</span><br><span class=\"line\">        transform: translate(-50%, 50%);</span><br><span class=\"line\">        text-align: center;</span><br><span class=\"line\">        z-index: 12;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    .other&#123;</span><br><span class=\"line\">        height:200px;</span><br><span class=\"line\">        background: #f2f2f2;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"banner-wrap\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"banner-sticky-box\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 可以放置图片之类背景图 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"banner-scrollytxt\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 放置滚动显示的文字，任意内容均可，标准流为父盒子减去100vh的高度，这里是180-100=80vh --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>文字颜色渐变流光效果<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 思路就是 文字颜色填充为透明、背景裁剪让文字使用背景色、然后设置一个渐变背景色</span></span><br><span class=\"line\"><span class=\"comment\">                再放大一下背景，最后通过动画移动背景位置，于是效果就出来了 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"other\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n","more":"</p>\n<h2 id=\"基础概念使用\"><a href=\"#基础概念使用\" class=\"headerlink\" title=\"基础概念使用\"></a>基础概念使用</h2><p>MDN中简单的介绍了它的<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/position#%E7%B2%98%E6%80%A7%E5%AE%9A%E4%BD%8D\" target=\"_blank\" rel=\"noopener\">概念</a>。</p>\n<blockquote>\n<p>元素根据正常文档流进行定位，然后相对它的最近滚动祖先（nearest scrolling ancestor）和 containing block（最近块级祖先 nearest block-level ancestor），包括 table-related 元素，基于 top、right、bottom 和 left 的值进行偏移。偏移值不会影响任何其他元素的位置。 该值总是创建一个新的层叠上下文（stacking context）。注意，一个 sticky 元素会“固定”在离它最近的一个拥有“滚动机制”的祖先上（当该祖先的 overflow 是 hidden、scroll、auto 或 overlay 时），即便这个祖先不是最近的真实可滚动祖先。这有效地抑制了任何“sticky”行为</p>\n</blockquote>\n<hr>\n<p>简单来说，就是以下几点：</p>\n<ul>\n<li>如果父元素position不是static，就会根据父元素定位，如果不是，往上查找滚动的非标准元素（position不是static）</li>\n<li>这个元素本身是标准流的元素，类似static</li>\n<li>当设置了top/bottom/left/right，会在到达指定偏移量后浮动，类似fixed</li>\n</ul>\n<h2 id=\"相对于底部浮动\"><a href=\"#相对于底部浮动\" class=\"headerlink\" title=\"相对于底部浮动\"></a>相对于底部浮动</h2><p>设置相对于顶部只需要设置top，在可视区域内，向下滚动，父元素相对可视区域顶部消失时，粘性定位元素就会生效。</p>\n<p>如果想要针对实现，父元素相对可视区域底部出现，固定显示需要一点技巧。</p>\n<h3 id=\"演示\"><a href=\"#演示\" class=\"headerlink\" title=\"演示\"></a>演示</h3><iframe scrolling=\"no\" width=\"100%\" height=\"300\" src=\"//jsfiddle.net/yplian/mx0y9rp2/2/embedded/result,html,css/light\" frameborder=\"0\" allowfullscreen></iframe>\n<h3 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">    .box &#123;</span><br><span class=\"line\">        width: 100%;</span><br><span class=\"line\">        height: 2000px;</span><br><span class=\"line\">        background: skyblue;</span><br><span class=\"line\">        border: 1px solid red;</span><br><span class=\"line\">        position: relative;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    .sticky &#123;</span><br><span class=\"line\">        position: sticky;</span><br><span class=\"line\">        bottom: 0px;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    .content &#123;</span><br><span class=\"line\">        width: 100%;</span><br><span class=\"line\">        background: yellowgreen;</span><br><span class=\"line\">        border: 1px solid saddlebrown;</span><br><span class=\"line\">        position: absolute;</span><br><span class=\"line\">        bottom: 20px;</span><br><span class=\"line\">        box-sizing: border-box;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"height: 200px;\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"box\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"height: 100%;\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"sticky\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"content\"</span>&gt;</span></span><br><span class=\"line\">      这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字，这是一段文字</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"height: 800px;\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"固定底图文字从底部向上滑动\"><a href=\"#固定底图文字从底部向上滑动\" class=\"headerlink\" title=\"固定底图文字从底部向上滑动\"></a>固定底图文字从底部向上滑动</h2><p>全屏背景图，向上滑动时，文字从底部移动至中间。</p>\n<h3 id=\"演示-1\"><a href=\"#演示-1\" class=\"headerlink\" title=\"演示\"></a>演示</h3><iframe scrolling=\"no\" width=\"100%\" height=\"300\" src=\"//jsfiddle.net/yplian/dc81Le0p/5/embedded/result,html,css/light\" frameborder=\"0\" allowfullscreen></iframe>\n<h3 id=\"代码-1\"><a href=\"#代码-1\" class=\"headerlink\" title=\"代码\"></a>代码</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">    /* 加上 -webkit- 注意兼容 */</span><br><span class=\"line\">    h1 &#123;</span><br><span class=\"line\">    background: -webkit-linear-gradient(135deg,</span><br><span class=\"line\">        #0eaf6d,</span><br><span class=\"line\">        #ff6ac6 25%,</span><br><span class=\"line\">        #147b96 50%,</span><br><span class=\"line\">        #e6d205 55%,</span><br><span class=\"line\">        #2cc4e0 60%,</span><br><span class=\"line\">        #8b2ce0 80%,</span><br><span class=\"line\">        #ff6384 95%,</span><br><span class=\"line\">        #08dfb4);</span><br><span class=\"line\">        /* 文字颜色填充设置为透明 */</span><br><span class=\"line\">        -webkit-text-fill-color: transparent;</span><br><span class=\"line\">        /* 背景裁剪，即让文字使用背景色 */</span><br><span class=\"line\">        -webkit-background-clip: text;</span><br><span class=\"line\">        /* 背景图放大一下，看着柔和一些 */</span><br><span class=\"line\">        -webkit-background-size: 200% 100%;</span><br><span class=\"line\">        /* 应用动画flowCss 12秒速度 无限循环 线性匀速动画*/</span><br><span class=\"line\">        -webkit-animation: flowCss 12s infinite linear;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @-webkit-keyframes flowCss &#123;</span><br><span class=\"line\">    0% &#123;</span><br><span class=\"line\">        /* 移动背景位置 */</span><br><span class=\"line\">        background-position: 0 0;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    100% &#123;</span><br><span class=\"line\">        background-position: -400% 0;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    h1:hover &#123;</span><br><span class=\"line\">        animation: flowCss 4s infinite linear;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    .banner-wrap &#123;</span><br><span class=\"line\">        width: 100%;</span><br><span class=\"line\">        /* 需要设置大于一屏的高度，多余的高度用来承载滚动的文字 */</span><br><span class=\"line\">        height: 180vh;</span><br><span class=\"line\">        position: relative;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    .banner-sticky-box &#123;</span><br><span class=\"line\">        width: 100%;</span><br><span class=\"line\">        /* 一定要设置为一屏的高度 */</span><br><span class=\"line\">        height: 100vh;</span><br><span class=\"line\">        position: sticky;</span><br><span class=\"line\">        top: 0;</span><br><span class=\"line\">        transition: 0.1s;</span><br><span class=\"line\">        /* background: skyblue; */</span><br><span class=\"line\">        background: url('https://www.baidu.com/img/PCfb_5bf082d29588c07f842ccde3f97243ea.png');</span><br><span class=\"line\"></span><br><span class=\"line\">        text-align: center;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    .banner-scrollytxt &#123;</span><br><span class=\"line\">        width: 60%;</span><br><span class=\"line\">        max-width: 640px;</span><br><span class=\"line\">        position: absolute;</span><br><span class=\"line\">        bottom: 50vh;</span><br><span class=\"line\">        left: 50%;</span><br><span class=\"line\">        transform: translate(-50%, 50%);</span><br><span class=\"line\">        text-align: center;</span><br><span class=\"line\">        z-index: 12;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    .other&#123;</span><br><span class=\"line\">        height:200px;</span><br><span class=\"line\">        background: #f2f2f2;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"banner-wrap\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"banner-sticky-box\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 可以放置图片之类背景图 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"banner-scrollytxt\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 放置滚动显示的文字，任意内容均可，标准流为父盒子减去100vh的高度，这里是180-100=80vh --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>文字颜色渐变流光效果<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 思路就是 文字颜色填充为透明、背景裁剪让文字使用背景色、然后设置一个渐变背景色</span></span><br><span class=\"line\"><span class=\"comment\">                再放大一下背景，最后通过动画移动背景位置，于是效果就出来了 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"other\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>","categories":[],"tags":[{"name":"css","path":"api/tags/css.json"}]}