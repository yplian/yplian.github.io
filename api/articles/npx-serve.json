{"title":"npx serve","slug":"npx-serve","date":"2024-10-01T03:38:54.000Z","updated":"2024-10-01T03:38:54.000Z","comments":true,"path":"api/articles/npx-serve.json","excerpt":"用于快速启动静态文件服务器的命令行工具。这个工具可以帮助开发者在本地快速查看 HTML、CSS 和 JavaScript 文件的效果，而无需设置复杂的服务器环境。<br>","covers":null,"content":"<p>用于快速启动静态文件服务器的命令行工具。这个工具可以帮助开发者在本地快速查看 HTML、CSS 和 JavaScript 文件的效果，而无需设置复杂的服务器环境。<br><a id=\"more\"></a></p>\n<h2 id=\"前序\"><a href=\"#前序\" class=\"headerlink\" title=\"前序\"></a>前序</h2><p>对于本地的静态资源预览，有些可能需要启动http服务，才能实现更好的预览效果。<br>之前用的主要是VsCode的插件<a href=\"https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer\" target=\"_blank\" rel=\"noopener\">LiveServer</a>来快速开启。查阅vue官方时，发现了这个指令。简单了解一下大概。</p>\n<h2 id=\"使用\"><a href=\"#使用\" class=\"headerlink\" title=\"使用\"></a>使用</h2><p>对于一个如下的目录结构</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/project</span><br><span class=\"line\">  ├── index.html</span><br><span class=\"line\">  ├── styles.css</span><br><span class=\"line\">  └── script.js</span><br></pre></td></tr></table></figure>\n<p>打开控制台输入<code>npx serve</code>，如果是第一次会需要输入y，执行下载依赖包，之后会自动开启本地服务。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PS D:\\project&gt;npx serve</span><br><span class=\"line\">Need to install the following packages:</span><br><span class=\"line\">  serve@14.2.4</span><br><span class=\"line\">Ok to proceed? (y) y</span><br><span class=\"line\"></span><br><span class=\"line\">   ┌─────────────────────────────────────────┐</span><br><span class=\"line\">   │                                         │</span><br><span class=\"line\">   │   Serving!                              │</span><br><span class=\"line\">   │                                         │</span><br><span class=\"line\">   │   - Local:    http://localhost:3000     │</span><br><span class=\"line\">   │   - Network:  http://172.29.16.1:3000   │</span><br><span class=\"line\">   │                                         │</span><br><span class=\"line\">   │   Copied local address to clipboard!    │</span><br><span class=\"line\">   │                                         │</span><br><span class=\"line\">   └─────────────────────────────────────────┘</span><br></pre></td></tr></table></figure>\n<h3 id=\"指定端口号\"><a href=\"#指定端口号\" class=\"headerlink\" title=\"指定端口号\"></a>指定端口号</h3><p>通过使用 <code>-l</code> 参数指定其他端口</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npx serve -l 3000</span><br></pre></td></tr></table></figure>\n<h3 id=\"设置缓存时间\"><a href=\"#设置缓存时间\" class=\"headerlink\" title=\"设置缓存时间\"></a>设置缓存时间</h3><p>通过 <code>-t</code> 参数设置缓存时间，以秒为单位。例如，设置缓存时间为 10 秒</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npx serve -t 10</span><br></pre></td></tr></table></figure>\n<h3 id=\"启用压缩\"><a href=\"#启用压缩\" class=\"headerlink\" title=\"启用压缩\"></a>启用压缩</h3><p>通过 <code>-c</code> 参数可以启用 gzip 压缩，提高传输效率</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npx serve -c</span><br></pre></td></tr></table></figure>\n<h2 id=\"简易结合webpack\"><a href=\"#简易结合webpack\" class=\"headerlink\" title=\"简易结合webpack\"></a>简易结合webpack</h2><h3 id=\"初始化package添加script\"><a href=\"#初始化package添加script\" class=\"headerlink\" title=\"初始化package添加script\"></a>初始化package添加script</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;: &#123;</span><br><span class=\"line\">  &quot;build&quot;: &quot;webpack&quot;,</span><br><span class=\"line\">  &quot;serve&quot;: &quot;npx serve dist&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"安装依赖\"><a href=\"#安装依赖\" class=\"headerlink\" title=\"安装依赖\"></a>安装依赖</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install webpack webpack-cli serve --save-dev</span><br></pre></td></tr></table></figure>\n<h3 id=\"配置-Webpack\"><a href=\"#配置-Webpack\" class=\"headerlink\" title=\"配置 Webpack\"></a>配置 Webpack</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const path = require(&apos;path&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">  entry: &apos;./src/index.js&apos;,</span><br><span class=\"line\">  output: &#123;</span><br><span class=\"line\">    filename: &apos;bundle.js&apos;,</span><br><span class=\"line\">    path: path.resolve(__dirname, &apos;dist&apos;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  mode: &apos;development&apos;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"运行\"><a href=\"#运行\" class=\"headerlink\" title=\"运行\"></a>运行</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run build</span><br><span class=\"line\">npm run serve</span><br></pre></td></tr></table></figure>\n","more":"</p>\n<h2 id=\"前序\"><a href=\"#前序\" class=\"headerlink\" title=\"前序\"></a>前序</h2><p>对于本地的静态资源预览，有些可能需要启动http服务，才能实现更好的预览效果。<br>之前用的主要是VsCode的插件<a href=\"https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer\" target=\"_blank\" rel=\"noopener\">LiveServer</a>来快速开启。查阅vue官方时，发现了这个指令。简单了解一下大概。</p>\n<h2 id=\"使用\"><a href=\"#使用\" class=\"headerlink\" title=\"使用\"></a>使用</h2><p>对于一个如下的目录结构</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/project</span><br><span class=\"line\">  ├── index.html</span><br><span class=\"line\">  ├── styles.css</span><br><span class=\"line\">  └── script.js</span><br></pre></td></tr></table></figure>\n<p>打开控制台输入<code>npx serve</code>，如果是第一次会需要输入y，执行下载依赖包，之后会自动开启本地服务。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PS D:\\project&gt;npx serve</span><br><span class=\"line\">Need to install the following packages:</span><br><span class=\"line\">  serve@14.2.4</span><br><span class=\"line\">Ok to proceed? (y) y</span><br><span class=\"line\"></span><br><span class=\"line\">   ┌─────────────────────────────────────────┐</span><br><span class=\"line\">   │                                         │</span><br><span class=\"line\">   │   Serving!                              │</span><br><span class=\"line\">   │                                         │</span><br><span class=\"line\">   │   - Local:    http://localhost:3000     │</span><br><span class=\"line\">   │   - Network:  http://172.29.16.1:3000   │</span><br><span class=\"line\">   │                                         │</span><br><span class=\"line\">   │   Copied local address to clipboard!    │</span><br><span class=\"line\">   │                                         │</span><br><span class=\"line\">   └─────────────────────────────────────────┘</span><br></pre></td></tr></table></figure>\n<h3 id=\"指定端口号\"><a href=\"#指定端口号\" class=\"headerlink\" title=\"指定端口号\"></a>指定端口号</h3><p>通过使用 <code>-l</code> 参数指定其他端口</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npx serve -l 3000</span><br></pre></td></tr></table></figure>\n<h3 id=\"设置缓存时间\"><a href=\"#设置缓存时间\" class=\"headerlink\" title=\"设置缓存时间\"></a>设置缓存时间</h3><p>通过 <code>-t</code> 参数设置缓存时间，以秒为单位。例如，设置缓存时间为 10 秒</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npx serve -t 10</span><br></pre></td></tr></table></figure>\n<h3 id=\"启用压缩\"><a href=\"#启用压缩\" class=\"headerlink\" title=\"启用压缩\"></a>启用压缩</h3><p>通过 <code>-c</code> 参数可以启用 gzip 压缩，提高传输效率</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npx serve -c</span><br></pre></td></tr></table></figure>\n<h2 id=\"简易结合webpack\"><a href=\"#简易结合webpack\" class=\"headerlink\" title=\"简易结合webpack\"></a>简易结合webpack</h2><h3 id=\"初始化package添加script\"><a href=\"#初始化package添加script\" class=\"headerlink\" title=\"初始化package添加script\"></a>初始化package添加script</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;: &#123;</span><br><span class=\"line\">  &quot;build&quot;: &quot;webpack&quot;,</span><br><span class=\"line\">  &quot;serve&quot;: &quot;npx serve dist&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"安装依赖\"><a href=\"#安装依赖\" class=\"headerlink\" title=\"安装依赖\"></a>安装依赖</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install webpack webpack-cli serve --save-dev</span><br></pre></td></tr></table></figure>\n<h3 id=\"配置-Webpack\"><a href=\"#配置-Webpack\" class=\"headerlink\" title=\"配置 Webpack\"></a>配置 Webpack</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const path = require(&apos;path&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">module.exports = &#123;</span><br><span class=\"line\">  entry: &apos;./src/index.js&apos;,</span><br><span class=\"line\">  output: &#123;</span><br><span class=\"line\">    filename: &apos;bundle.js&apos;,</span><br><span class=\"line\">    path: path.resolve(__dirname, &apos;dist&apos;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  mode: &apos;development&apos;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"运行\"><a href=\"#运行\" class=\"headerlink\" title=\"运行\"></a>运行</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run build</span><br><span class=\"line\">npm run serve</span><br></pre></td></tr></table></figure>","categories":[],"tags":[{"name":"node","path":"api/tags/node.json"}]}