{"title":"MySQL简要","slug":"MySQL简要","date":"2017-12-06T16:00:00.000Z","updated":"2017-12-06T16:00:00.000Z","comments":true,"path":"api/articles/MySQL简要.json","excerpt":"学习node的过程中，需要用到数据库提供数据，简要学习MySQL其基本操作。<br>","covers":null,"content":"<p>学习node的过程中，需要用到数据库提供数据，简要学习MySQL其基本操作。<br><a id=\"more\"></a></p>\n<h2 id=\"数据库基础\"><a href=\"#数据库基础\" class=\"headerlink\" title=\"数据库基础\"></a>数据库基础</h2><p>数据库（Database）是按照数据结构来组织、存储和管理数据的仓库，每个数据库都有一个或多个不同的API用于创建，访问，管理，搜索和复制所保存的数据。</p>\n<h3 id=\"RDBMS\"><a href=\"#RDBMS\" class=\"headerlink\" title=\"RDBMS\"></a>RDBMS</h3><p>MySQL属于关系型数据库。关系型数据库管理系统（RDBMS）的主要特点在于：</p>\n<ul>\n<li>数据以表格的形式出现</li>\n<li>每行为各种记录名称</li>\n<li>每列为记录名称所对应的数据域</li>\n<li>许多的行和列组成一张表单</li>\n<li>若干的表单组成database</li>\n</ul>\n<h3 id=\"RDBMS术语\"><a href=\"#RDBMS术语\" class=\"headerlink\" title=\"RDBMS术语\"></a>RDBMS术语</h3><ul>\n<li>数据库: 数据库是一些关联表的集合。.</li>\n<li>数据表: 表是数据的矩阵。在一个数据库中的表看起来像一个简单的电子表格。</li>\n<li>列: 一列(数据元素) 包含了相同的数据, 例如邮政编码的数据。</li>\n<li>行：一行（=元组，或记录）是一组相关的数据，例如一条用户订阅的数据。</li>\n<li>冗余：存储两倍数据，冗余降低了性能，但提高了数据的安全性。</li>\n<li>主键：主键是唯一的。一个数据表中只能包含一个主键。你可以使用主键来查询数据。</li>\n<li>外键：外键用于关联两个表。</li>\n<li>复合键：复合键（组合键）将多个列作为一个索引键，一般用于复合索引。</li>\n<li>索引：使用索引可快速访问数据库表中的特定信息。索引是对数据库表中一列或多列的值进行排序的一种结构。类似于书籍的目录。</li>\n<li>参照完整性: 参照的完整性要求关系中不允许引用不存在的实体。与实体完整性是关系模型必须满足的完整性约束条件，目的是保证数据的一致性。</li>\n</ul>\n<h3 id=\"MySQL数据类型\"><a href=\"#MySQL数据类型\" class=\"headerlink\" title=\"MySQL数据类型\"></a>MySQL数据类型</h3><p>MySQL有三大类数据类型, 分别为数字、日期\\时间、字符串, 这三大类中又更细致的划分了许多子类型:</p>\n<ul>\n<li>数字类型<ol>\n<li>整数: tinyint、smallint、mediumint、int、bigint</li>\n<li>浮点数: float、double、real、decimal</li>\n</ol>\n</li>\n<li>日期和时间: date、time、datetime、timestamp、year</li>\n<li>字符串类型<ol>\n<li>字符串: char、varchar</li>\n<li>文本: tinytext、text、mediumtext、longtext</li>\n<li>二进制(可用来存储图片、音乐等): tinyblob、blob、mediumblob、longblob</li>\n</ol>\n</li>\n</ul>\n<p>具体见附录。</p>\n<h2 id=\"MySQL操作\"><a href=\"#MySQL操作\" class=\"headerlink\" title=\"MySQL操作\"></a>MySQL操作</h2><h3 id=\"基础管理\"><a href=\"#基础管理\" class=\"headerlink\" title=\"基础管理\"></a>基础管理</h3><ul>\n<li><code>mysql -h 主机地址 -u 用户名 -p 用户密码;</code>:链接mysql数据库</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -u root -p #链接本机mysql</span><br><span class=\"line\">mysql -h 110.110.110.110 -u root -p abcd123 #链接远程主机上的mysql</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p><code>mysqladmin -u用户名 -p旧密码 password 新密码;</code>:修改密码</p>\n</li>\n<li><p><code>grant select on 数据库.* to 用户名@登录主机 identified by \\&quot;密码\\&quot;</code>:增加新用户</p>\n</li>\n</ul>\n<h3 id=\"创建数据库\"><a href=\"#创建数据库\" class=\"headerlink\" title=\"创建数据库\"></a>创建数据库</h3><p>create database 数据库名 [其他选项];</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">create database test_db character set gbk; #便于在命令符下显示中文</span><br></pre></td></tr></table></figure>\n<h3 id=\"查看数据库\"><a href=\"#查看数据库\" class=\"headerlink\" title=\"查看数据库\"></a>查看数据库</h3><p>show databases:列出 MySQL 数据库管理系统的数据库列表。</p>\n<h3 id=\"选择数据库\"><a href=\"#选择数据库\" class=\"headerlink\" title=\"选择数据库\"></a>选择数据库</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -D 所选择的数据库名 -h 主机名 -u 用户名 -p  #登录时选择</span><br><span class=\"line\">use 所选择的数据库名                             #登录后选择</span><br></pre></td></tr></table></figure>\n<h3 id=\"创建数据库表\"><a href=\"#创建数据库表\" class=\"headerlink\" title=\"创建数据库表\"></a>创建数据库表</h3><p>create table 表名称(列声明);</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">create table students</span><br><span class=\"line\">    (</span><br><span class=\"line\">        id int unsigned not null auto_increment primary key,</span><br><span class=\"line\">        name char(8) not null,</span><br><span class=\"line\">        sex char(4) not null,</span><br><span class=\"line\">        age tinyint unsigned not null,</span><br><span class=\"line\">        tel char(13) null default &quot;-&quot;</span><br><span class=\"line\">    );</span><br></pre></td></tr></table></figure>\n<ul>\n<li>id为列的名称。</li>\n<li>int为整数类型(取值范围为 -8388608到8388607)。</li>\n<li>unsigned设置无符号位(取值范围为 0到8388607)。</li>\n<li>not null不能为空必填项。auto_increment在插入数据时若该列为 NULL, MySQL将自动产生一个比现存值更大的唯一标识符值。在每张表中仅能有一个这样的值且所在列必须为索引列。</li>\n<li>primary key该列是表的主键, 本列的值必须唯一, MySQL将自动索引该列。</li>\n<li>char(8) 长度为8的字符串。</li>\n<li>tinyint取值范围为 -127到128的整数类型。</li>\n<li>null default “-“ 值为空时默认-</li>\n</ul>\n<h3 id=\"查看数据库表\"><a href=\"#查看数据库表\" class=\"headerlink\" title=\"查看数据库表\"></a>查看数据库表</h3><ul>\n<li><p><code>describe 表名</code>:可查看已创建的表的详细信息。</p>\n</li>\n<li><p><code>show tables</code>:显示指定数据库的所有表，使用该命令前需要使用 use 命令来选择要操作的数据库。</p>\n</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">show tables;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>show columns from 数据表</code>:显示数据表的属性，属性类型，主键信息 ，是否为 NULL，默认值等其他信息。</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">show columns from students;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>show index from 数据表</code>:显示数据表的详细索引信息，包括PRIMARY KEY（主键）。</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">show index from students;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>show table status like [from db_name] [like &#39;pattern&#39;] \\G</code>:该命令将输出MySQL数据库管理系统的性能及统计信息。</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">show table status from test_db;   # 显示数据库 test_db 中所有表的信息</span><br><span class=\"line\"></span><br><span class=\"line\">show table status from test_db like &apos;test%&apos;;     # 表名以test_db开头的表的信息</span><br><span class=\"line\">show table status from test_db like &apos;test%&apos;\\G;   # 加上 \\G，查询结果按列打印</span><br></pre></td></tr></table></figure>\n<h3 id=\"表格插入数据\"><a href=\"#表格插入数据\" class=\"headerlink\" title=\"表格插入数据\"></a>表格插入数据</h3><p>insert [into] 表名 [(列名1, 列名2, 列名3, …)] values (值1, 值2, 值3, …);</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">insert into students (name, sex, age) values(&quot;小红&quot;, &quot;女&quot;, 12);</span><br></pre></td></tr></table></figure>\n<h3 id=\"查询表中数据\"><a href=\"#查询表中数据\" class=\"headerlink\" title=\"查询表中数据\"></a>查询表中数据</h3><p>select 列名称 from 表名称 [查询条件];</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select name,age from students;                 #显示所有人的name,age信息</span><br><span class=\"line\">select * from students where sex=&quot;女&quot;;         #性别是女的所有人信息</span><br><span class=\"line\">select * from students where name like &quot;%小%&quot;; #名字中含有小的所有人信息</span><br><span class=\"line\">select * from students where  id&gt;5 and age&gt;10; #id小于5且年龄大于10的所有人信息</span><br></pre></td></tr></table></figure>\n<h3 id=\"更新表中数据\"><a href=\"#更新表中数据\" class=\"headerlink\" title=\"更新表中数据\"></a>更新表中数据</h3><p>update 表名称 set 列名称=新值 where 更新条件;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update students set age=age+1;                #所有人的年龄增加1</span><br><span class=\"line\">update students set tel=default where id=5;   #将id为5的手机号改为默认的&quot;-&quot;</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除表中数据\"><a href=\"#删除表中数据\" class=\"headerlink\" title=\"删除表中数据\"></a>删除表中数据</h3><p>delete from 表名称 where 删除条件;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">delete from students where id=3;     #将id为3的人数据删除</span><br></pre></td></tr></table></figure>\n<h3 id=\"添加表列\"><a href=\"#添加表列\" class=\"headerlink\" title=\"添加表列\"></a>添加表列</h3><p>alter table 表名 add 列名 列数据类型 [after 插入位置];</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alter table students add address char(60);    #在表的最后追加列 address</span><br><span class=\"line\">alter table students add birthday date after age;  #在名为age的列后插入列 birthday</span><br></pre></td></tr></table></figure>\n<h3 id=\"修改表列\"><a href=\"#修改表列\" class=\"headerlink\" title=\"修改表列\"></a>修改表列</h3><p>alter table 表名 change 列名称 列新名称 新数据类型;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alter table students change tel telphone char(13) default &quot;-&quot;;</span><br><span class=\"line\">#将表 tel 列改名为 telphone</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除表列\"><a href=\"#删除表列\" class=\"headerlink\" title=\"删除表列\"></a>删除表列</h3><p>alter table 表名 drop 列名称;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alter table students drop birthday;   #删除brithday列</span><br></pre></td></tr></table></figure>\n<h3 id=\"重命名数据表\"><a href=\"#重命名数据表\" class=\"headerlink\" title=\"重命名数据表\"></a>重命名数据表</h3><p>alter table 表名 rename 新表名;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alter table students rename children;</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除整张数据库表\"><a href=\"#删除整张数据库表\" class=\"headerlink\" title=\"删除整张数据库表\"></a>删除整张数据库表</h3><p>drop table 表名;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">drop table children;</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除整个数据库\"><a href=\"#删除整个数据库\" class=\"headerlink\" title=\"删除整个数据库\"></a>删除整个数据库</h3><p>drop database 数据库名;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">drop database test_db;</span><br></pre></td></tr></table></figure>\n<h2 id=\"附录\"><a href=\"#附录\" class=\"headerlink\" title=\"附录\"></a>附录</h2><table>\n<thead>\n<tr>\n<th style=\"text-align:left\">整数类型</th>\n<th style=\"text-align:left\">含义（有符号）</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">tinyint(m)</td>\n<td style=\"text-align:left\">1个字节  范围(-128~127)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">smallint(m)</td>\n<td style=\"text-align:left\">2个字节  范围(-32768~32767)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">mediumint(m)</td>\n<td style=\"text-align:left\">3个字节  范围(-8388608~8388607)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">int(m)</td>\n<td style=\"text-align:left\">4个字节  范围(-2147483648~2147483647)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">bigint(m)</td>\n<td style=\"text-align:left\">8个字节  范围(+-9.22*10的18次方)</td>\n</tr>\n</tbody>\n</table>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">浮点类型</th>\n<th style=\"text-align:left\">含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">float(m,d)</td>\n<td style=\"text-align:left\">单精度浮点型    8位精度(4字节)     m总个数，d小数位</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">double(m,d)</td>\n<td style=\"text-align:left\">双精度浮点型    16位精度(8字节)    m总个数，d小数位</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">decimal(m,d)</td>\n<td style=\"text-align:left\">精确值（上述两种为近似值）    m总个数，d小数位</td>\n</tr>\n</tbody>\n</table>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">字符串类型</th>\n<th style=\"text-align:left\">含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">char(n)</td>\n<td style=\"text-align:left\">固定长度，最多255个字符</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">varchar(n)</td>\n<td style=\"text-align:left\">可变长度，最多65535个字符</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">tinytext</td>\n<td style=\"text-align:left\">可变长度，最多255个字符</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">text</td>\n<td style=\"text-align:left\">可变长度，最多65535个字符</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">mediumtext</td>\n<td style=\"text-align:left\">可变长度，最多2的24次方-1个字符</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">longtext</td>\n<td style=\"text-align:left\">可变长度，最多2的32次方-1个字符</td>\n</tr>\n</tbody>\n</table>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">日期时间类型</th>\n<th style=\"text-align:left\">含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">date</td>\n<td style=\"text-align:left\">日期 ‘2008-12-2’</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">year</td>\n<td style=\"text-align:left\">日期 ‘2008’</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">time</td>\n<td style=\"text-align:left\">时间 ‘12:25:36’</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">datetime</td>\n<td style=\"text-align:left\">日期时间 ‘2008-12-2 22:06:44’</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">timestamp</td>\n<td style=\"text-align:left\">自动存储记录修改时间</td>\n</tr>\n</tbody>\n</table>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">关键字</th>\n<th style=\"text-align:left\">含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">NULL</td>\n<td style=\"text-align:left\">数据列可包含NULL值</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">NOT NULL</td>\n<td style=\"text-align:left\">数据列不允许包含NULL值</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">DEFAULT</td>\n<td style=\"text-align:left\">默认值</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">PRIMARY KEY</td>\n<td style=\"text-align:left\">主键</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">AUTO_INCREMENT</td>\n<td style=\"text-align:left\">自动递增，适用于整数类型</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">UNSIGNED</td>\n<td style=\"text-align:left\">无符号</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">CHARACTER SET name</td>\n<td style=\"text-align:left\">指定一个字符集</td>\n</tr>\n</tbody>\n</table>\n","more":"</p>\n<h2 id=\"数据库基础\"><a href=\"#数据库基础\" class=\"headerlink\" title=\"数据库基础\"></a>数据库基础</h2><p>数据库（Database）是按照数据结构来组织、存储和管理数据的仓库，每个数据库都有一个或多个不同的API用于创建，访问，管理，搜索和复制所保存的数据。</p>\n<h3 id=\"RDBMS\"><a href=\"#RDBMS\" class=\"headerlink\" title=\"RDBMS\"></a>RDBMS</h3><p>MySQL属于关系型数据库。关系型数据库管理系统（RDBMS）的主要特点在于：</p>\n<ul>\n<li>数据以表格的形式出现</li>\n<li>每行为各种记录名称</li>\n<li>每列为记录名称所对应的数据域</li>\n<li>许多的行和列组成一张表单</li>\n<li>若干的表单组成database</li>\n</ul>\n<h3 id=\"RDBMS术语\"><a href=\"#RDBMS术语\" class=\"headerlink\" title=\"RDBMS术语\"></a>RDBMS术语</h3><ul>\n<li>数据库: 数据库是一些关联表的集合。.</li>\n<li>数据表: 表是数据的矩阵。在一个数据库中的表看起来像一个简单的电子表格。</li>\n<li>列: 一列(数据元素) 包含了相同的数据, 例如邮政编码的数据。</li>\n<li>行：一行（=元组，或记录）是一组相关的数据，例如一条用户订阅的数据。</li>\n<li>冗余：存储两倍数据，冗余降低了性能，但提高了数据的安全性。</li>\n<li>主键：主键是唯一的。一个数据表中只能包含一个主键。你可以使用主键来查询数据。</li>\n<li>外键：外键用于关联两个表。</li>\n<li>复合键：复合键（组合键）将多个列作为一个索引键，一般用于复合索引。</li>\n<li>索引：使用索引可快速访问数据库表中的特定信息。索引是对数据库表中一列或多列的值进行排序的一种结构。类似于书籍的目录。</li>\n<li>参照完整性: 参照的完整性要求关系中不允许引用不存在的实体。与实体完整性是关系模型必须满足的完整性约束条件，目的是保证数据的一致性。</li>\n</ul>\n<h3 id=\"MySQL数据类型\"><a href=\"#MySQL数据类型\" class=\"headerlink\" title=\"MySQL数据类型\"></a>MySQL数据类型</h3><p>MySQL有三大类数据类型, 分别为数字、日期\\时间、字符串, 这三大类中又更细致的划分了许多子类型:</p>\n<ul>\n<li>数字类型<ol>\n<li>整数: tinyint、smallint、mediumint、int、bigint</li>\n<li>浮点数: float、double、real、decimal</li>\n</ol>\n</li>\n<li>日期和时间: date、time、datetime、timestamp、year</li>\n<li>字符串类型<ol>\n<li>字符串: char、varchar</li>\n<li>文本: tinytext、text、mediumtext、longtext</li>\n<li>二进制(可用来存储图片、音乐等): tinyblob、blob、mediumblob、longblob</li>\n</ol>\n</li>\n</ul>\n<p>具体见附录。</p>\n<h2 id=\"MySQL操作\"><a href=\"#MySQL操作\" class=\"headerlink\" title=\"MySQL操作\"></a>MySQL操作</h2><h3 id=\"基础管理\"><a href=\"#基础管理\" class=\"headerlink\" title=\"基础管理\"></a>基础管理</h3><ul>\n<li><code>mysql -h 主机地址 -u 用户名 -p 用户密码;</code>:链接mysql数据库</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -u root -p #链接本机mysql</span><br><span class=\"line\">mysql -h 110.110.110.110 -u root -p abcd123 #链接远程主机上的mysql</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p><code>mysqladmin -u用户名 -p旧密码 password 新密码;</code>:修改密码</p>\n</li>\n<li><p><code>grant select on 数据库.* to 用户名@登录主机 identified by \\&quot;密码\\&quot;</code>:增加新用户</p>\n</li>\n</ul>\n<h3 id=\"创建数据库\"><a href=\"#创建数据库\" class=\"headerlink\" title=\"创建数据库\"></a>创建数据库</h3><p>create database 数据库名 [其他选项];</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">create database test_db character set gbk; #便于在命令符下显示中文</span><br></pre></td></tr></table></figure>\n<h3 id=\"查看数据库\"><a href=\"#查看数据库\" class=\"headerlink\" title=\"查看数据库\"></a>查看数据库</h3><p>show databases:列出 MySQL 数据库管理系统的数据库列表。</p>\n<h3 id=\"选择数据库\"><a href=\"#选择数据库\" class=\"headerlink\" title=\"选择数据库\"></a>选择数据库</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -D 所选择的数据库名 -h 主机名 -u 用户名 -p  #登录时选择</span><br><span class=\"line\">use 所选择的数据库名                             #登录后选择</span><br></pre></td></tr></table></figure>\n<h3 id=\"创建数据库表\"><a href=\"#创建数据库表\" class=\"headerlink\" title=\"创建数据库表\"></a>创建数据库表</h3><p>create table 表名称(列声明);</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">create table students</span><br><span class=\"line\">    (</span><br><span class=\"line\">        id int unsigned not null auto_increment primary key,</span><br><span class=\"line\">        name char(8) not null,</span><br><span class=\"line\">        sex char(4) not null,</span><br><span class=\"line\">        age tinyint unsigned not null,</span><br><span class=\"line\">        tel char(13) null default &quot;-&quot;</span><br><span class=\"line\">    );</span><br></pre></td></tr></table></figure>\n<ul>\n<li>id为列的名称。</li>\n<li>int为整数类型(取值范围为 -8388608到8388607)。</li>\n<li>unsigned设置无符号位(取值范围为 0到8388607)。</li>\n<li>not null不能为空必填项。auto_increment在插入数据时若该列为 NULL, MySQL将自动产生一个比现存值更大的唯一标识符值。在每张表中仅能有一个这样的值且所在列必须为索引列。</li>\n<li>primary key该列是表的主键, 本列的值必须唯一, MySQL将自动索引该列。</li>\n<li>char(8) 长度为8的字符串。</li>\n<li>tinyint取值范围为 -127到128的整数类型。</li>\n<li>null default “-“ 值为空时默认-</li>\n</ul>\n<h3 id=\"查看数据库表\"><a href=\"#查看数据库表\" class=\"headerlink\" title=\"查看数据库表\"></a>查看数据库表</h3><ul>\n<li><p><code>describe 表名</code>:可查看已创建的表的详细信息。</p>\n</li>\n<li><p><code>show tables</code>:显示指定数据库的所有表，使用该命令前需要使用 use 命令来选择要操作的数据库。</p>\n</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">show tables;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>show columns from 数据表</code>:显示数据表的属性，属性类型，主键信息 ，是否为 NULL，默认值等其他信息。</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">show columns from students;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>show index from 数据表</code>:显示数据表的详细索引信息，包括PRIMARY KEY（主键）。</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">show index from students;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>show table status like [from db_name] [like &#39;pattern&#39;] \\G</code>:该命令将输出MySQL数据库管理系统的性能及统计信息。</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">show table status from test_db;   # 显示数据库 test_db 中所有表的信息</span><br><span class=\"line\"></span><br><span class=\"line\">show table status from test_db like &apos;test%&apos;;     # 表名以test_db开头的表的信息</span><br><span class=\"line\">show table status from test_db like &apos;test%&apos;\\G;   # 加上 \\G，查询结果按列打印</span><br></pre></td></tr></table></figure>\n<h3 id=\"表格插入数据\"><a href=\"#表格插入数据\" class=\"headerlink\" title=\"表格插入数据\"></a>表格插入数据</h3><p>insert [into] 表名 [(列名1, 列名2, 列名3, …)] values (值1, 值2, 值3, …);</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">insert into students (name, sex, age) values(&quot;小红&quot;, &quot;女&quot;, 12);</span><br></pre></td></tr></table></figure>\n<h3 id=\"查询表中数据\"><a href=\"#查询表中数据\" class=\"headerlink\" title=\"查询表中数据\"></a>查询表中数据</h3><p>select 列名称 from 表名称 [查询条件];</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select name,age from students;                 #显示所有人的name,age信息</span><br><span class=\"line\">select * from students where sex=&quot;女&quot;;         #性别是女的所有人信息</span><br><span class=\"line\">select * from students where name like &quot;%小%&quot;; #名字中含有小的所有人信息</span><br><span class=\"line\">select * from students where  id&gt;5 and age&gt;10; #id小于5且年龄大于10的所有人信息</span><br></pre></td></tr></table></figure>\n<h3 id=\"更新表中数据\"><a href=\"#更新表中数据\" class=\"headerlink\" title=\"更新表中数据\"></a>更新表中数据</h3><p>update 表名称 set 列名称=新值 where 更新条件;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update students set age=age+1;                #所有人的年龄增加1</span><br><span class=\"line\">update students set tel=default where id=5;   #将id为5的手机号改为默认的&quot;-&quot;</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除表中数据\"><a href=\"#删除表中数据\" class=\"headerlink\" title=\"删除表中数据\"></a>删除表中数据</h3><p>delete from 表名称 where 删除条件;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">delete from students where id=3;     #将id为3的人数据删除</span><br></pre></td></tr></table></figure>\n<h3 id=\"添加表列\"><a href=\"#添加表列\" class=\"headerlink\" title=\"添加表列\"></a>添加表列</h3><p>alter table 表名 add 列名 列数据类型 [after 插入位置];</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alter table students add address char(60);    #在表的最后追加列 address</span><br><span class=\"line\">alter table students add birthday date after age;  #在名为age的列后插入列 birthday</span><br></pre></td></tr></table></figure>\n<h3 id=\"修改表列\"><a href=\"#修改表列\" class=\"headerlink\" title=\"修改表列\"></a>修改表列</h3><p>alter table 表名 change 列名称 列新名称 新数据类型;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alter table students change tel telphone char(13) default &quot;-&quot;;</span><br><span class=\"line\">#将表 tel 列改名为 telphone</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除表列\"><a href=\"#删除表列\" class=\"headerlink\" title=\"删除表列\"></a>删除表列</h3><p>alter table 表名 drop 列名称;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alter table students drop birthday;   #删除brithday列</span><br></pre></td></tr></table></figure>\n<h3 id=\"重命名数据表\"><a href=\"#重命名数据表\" class=\"headerlink\" title=\"重命名数据表\"></a>重命名数据表</h3><p>alter table 表名 rename 新表名;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alter table students rename children;</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除整张数据库表\"><a href=\"#删除整张数据库表\" class=\"headerlink\" title=\"删除整张数据库表\"></a>删除整张数据库表</h3><p>drop table 表名;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">drop table children;</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除整个数据库\"><a href=\"#删除整个数据库\" class=\"headerlink\" title=\"删除整个数据库\"></a>删除整个数据库</h3><p>drop database 数据库名;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">drop database test_db;</span><br></pre></td></tr></table></figure>\n<h2 id=\"附录\"><a href=\"#附录\" class=\"headerlink\" title=\"附录\"></a>附录</h2><table>\n<thead>\n<tr>\n<th style=\"text-align:left\">整数类型</th>\n<th style=\"text-align:left\">含义（有符号）</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">tinyint(m)</td>\n<td style=\"text-align:left\">1个字节  范围(-128~127)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">smallint(m)</td>\n<td style=\"text-align:left\">2个字节  范围(-32768~32767)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">mediumint(m)</td>\n<td style=\"text-align:left\">3个字节  范围(-8388608~8388607)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">int(m)</td>\n<td style=\"text-align:left\">4个字节  范围(-2147483648~2147483647)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">bigint(m)</td>\n<td style=\"text-align:left\">8个字节  范围(+-9.22*10的18次方)</td>\n</tr>\n</tbody>\n</table>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">浮点类型</th>\n<th style=\"text-align:left\">含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">float(m,d)</td>\n<td style=\"text-align:left\">单精度浮点型    8位精度(4字节)     m总个数，d小数位</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">double(m,d)</td>\n<td style=\"text-align:left\">双精度浮点型    16位精度(8字节)    m总个数，d小数位</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">decimal(m,d)</td>\n<td style=\"text-align:left\">精确值（上述两种为近似值）    m总个数，d小数位</td>\n</tr>\n</tbody>\n</table>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">字符串类型</th>\n<th style=\"text-align:left\">含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">char(n)</td>\n<td style=\"text-align:left\">固定长度，最多255个字符</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">varchar(n)</td>\n<td style=\"text-align:left\">可变长度，最多65535个字符</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">tinytext</td>\n<td style=\"text-align:left\">可变长度，最多255个字符</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">text</td>\n<td style=\"text-align:left\">可变长度，最多65535个字符</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">mediumtext</td>\n<td style=\"text-align:left\">可变长度，最多2的24次方-1个字符</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">longtext</td>\n<td style=\"text-align:left\">可变长度，最多2的32次方-1个字符</td>\n</tr>\n</tbody>\n</table>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">日期时间类型</th>\n<th style=\"text-align:left\">含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">date</td>\n<td style=\"text-align:left\">日期 ‘2008-12-2’</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">year</td>\n<td style=\"text-align:left\">日期 ‘2008’</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">time</td>\n<td style=\"text-align:left\">时间 ‘12:25:36’</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">datetime</td>\n<td style=\"text-align:left\">日期时间 ‘2008-12-2 22:06:44’</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">timestamp</td>\n<td style=\"text-align:left\">自动存储记录修改时间</td>\n</tr>\n</tbody>\n</table>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">关键字</th>\n<th style=\"text-align:left\">含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">NULL</td>\n<td style=\"text-align:left\">数据列可包含NULL值</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">NOT NULL</td>\n<td style=\"text-align:left\">数据列不允许包含NULL值</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">DEFAULT</td>\n<td style=\"text-align:left\">默认值</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">PRIMARY KEY</td>\n<td style=\"text-align:left\">主键</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">AUTO_INCREMENT</td>\n<td style=\"text-align:left\">自动递增，适用于整数类型</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">UNSIGNED</td>\n<td style=\"text-align:left\">无符号</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">CHARACTER SET name</td>\n<td style=\"text-align:left\">指定一个字符集</td>\n</tr>\n</tbody>\n</table>","categories":[{"name":"数据库","path":"api/categories/数据库.json"}],"tags":[{"name":"node","path":"api/tags/node.json"},{"name":"MySQL","path":"api/tags/MySQL.json"}]}