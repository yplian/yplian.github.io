{"title":"vscode格式化eslint","slug":"vscode格式化eslint","date":"2019-11-06T16:00:00.000Z","updated":"2019-11-06T16:00:00.000Z","comments":true,"path":"api/articles/vscode格式化eslint.json","excerpt":"之前使用 vue-cli3 本身自带有指令npm run lint，可以修复 eslint 报错的格式问题，甚至通过配置文件vue.config.js中的配置项lintOnSave来实现保存时自动格式化。对于格式化保持的代码风格，平时工作也很有用，可以通过配置编辑器实现。","covers":null,"content":"<p>之前使用 vue-cli3 本身自带有指令<code>npm run lint</code>，可以修复 eslint 报错的格式问题，甚至通过配置文件<code>vue.config.js</code>中的配置项<code>lintOnSave</code>来实现保存时自动格式化。对于格式化保持的代码风格，平时工作也很有用，可以通过配置编辑器实现。</p>\n<a id=\"more\"></a>\n<h2 id=\"安装插件\"><a href=\"#安装插件\" class=\"headerlink\" title=\"安装插件\"></a>安装插件</h2><p><code>shift+command+X</code>唤醒扩展，或者右侧插件应用商店搜索相应插件。</p>\n<ul>\n<li>ESlint：javascript 代码检测工具，可以配置每次保存时格式化 js，但每次保存只格式化一点点，你得连续按住 Ctrl+S 好几次,才格式化好</li>\n<li>vetur：可以格式化 html、标准 css（有分号 、大括号的那种）、标准 js（有分号 、双引号的那种）、vue 文件</li>\n<li>Prettier - Code formatter：只关注格式化，并不具有 eslint 检查语法等能力，只关心格式化文件(最大长度、混合标签和空格、引用样式等)，包括 JavaScript · Flow · TypeScript · CSS · SCSS · Less · JSX · Vue · GraphQL · JSON · Markdown</li>\n</ul>\n<h2 id=\"配置-vscode\"><a href=\"#配置-vscode\" class=\"headerlink\" title=\"配置 vscode\"></a>配置 vscode</h2><p>首选项 =&gt; 设置 =&gt; settings.json</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 私货，比较喜欢的主题</span></span><br><span class=\"line\">    <span class=\"string\">\"workbench.colorTheme\"</span>: <span class=\"string\">\"One Dark Pro\"</span>,</span><br><span class=\"line\">    <span class=\"comment\">// vscode默认启用了根据文件类型自动设置tabsize的选项</span></span><br><span class=\"line\">    <span class=\"string\">\"editor.detectIndentation\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 重新设定tabsize</span></span><br><span class=\"line\">    <span class=\"string\">\"editor.tabSize\"</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 每次保存的时候自动格式化</span></span><br><span class=\"line\">    <span class=\"string\">\"editor.formatOnSave\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 每次保存的时候将代码按eslint格式进行修复</span></span><br><span class=\"line\">    <span class=\"string\">\"eslint.autoFixOnSave\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 添加 vue 支持</span></span><br><span class=\"line\">    <span class=\"string\">\"eslint.validate\"</span>: [</span><br><span class=\"line\">        <span class=\"string\">\"javascript\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"javascriptreact\"</span>,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"string\">\"language\"</span>: <span class=\"string\">\"vue\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"autoFix\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"comment\">// 让prettier使用eslint的代码格式进行校验，eslint6暂不兼容</span></span><br><span class=\"line\">    <span class=\"string\">\"prettier.eslintIntegration\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 去掉代码结尾的分号</span></span><br><span class=\"line\">    <span class=\"string\">\"prettier.semi\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 使用带引号替代双引号</span></span><br><span class=\"line\">    <span class=\"string\">\"prettier.singleQuote\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 让函数(名)和后面的括号之间加个空格</span></span><br><span class=\"line\">    <span class=\"string\">\"javascript.format.insertSpaceBeforeFunctionParenthesis\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 按用户自身习惯选择</span></span><br><span class=\"line\">    <span class=\"string\">\"vetur.format.defaultFormatter.html\"</span>: <span class=\"string\">\"js-beautify-html\"</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 让vue中的js按编辑器自带的ts格式进行格式化</span></span><br><span class=\"line\">    <span class=\"string\">\"vetur.format.defaultFormatter.js\"</span>: <span class=\"string\">\"vscode-typescript\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"vetur.format.defaultFormatterOptions\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"string\">\"js-beautify-html\"</span>: &#123;</span><br><span class=\"line\">            <span class=\"string\">\"wrap_attributes\"</span>: <span class=\"string\">\"force-aligned\"</span></span><br><span class=\"line\">            <span class=\"comment\">// #vue组件中html代码格式化样式</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"备注\"><a href=\"#备注\" class=\"headerlink\" title=\"备注\"></a>备注</h2><p>关于平时会用的<code>html、css、js</code>之类的，比较推荐使用插件<code>Beautify</code>,需要格式化的时候，直接打开<code>查看 =&gt; 命令面板</code>或者<code>command+shift+P</code>输入 beautify 即可（也可以自行配置启动命令）。</p>\n<p>类似 vscode 配置<a href=\"https://www.jianshu.com/p/f15b67c94c78\" target=\"_blank\" rel=\"noopener\">https://www.jianshu.com/p/f15b67c94c78</a></p>\n","more":"<h2 id=\"安装插件\"><a href=\"#安装插件\" class=\"headerlink\" title=\"安装插件\"></a>安装插件</h2><p><code>shift+command+X</code>唤醒扩展，或者右侧插件应用商店搜索相应插件。</p>\n<ul>\n<li>ESlint：javascript 代码检测工具，可以配置每次保存时格式化 js，但每次保存只格式化一点点，你得连续按住 Ctrl+S 好几次,才格式化好</li>\n<li>vetur：可以格式化 html、标准 css（有分号 、大括号的那种）、标准 js（有分号 、双引号的那种）、vue 文件</li>\n<li>Prettier - Code formatter：只关注格式化，并不具有 eslint 检查语法等能力，只关心格式化文件(最大长度、混合标签和空格、引用样式等)，包括 JavaScript · Flow · TypeScript · CSS · SCSS · Less · JSX · Vue · GraphQL · JSON · Markdown</li>\n</ul>\n<h2 id=\"配置-vscode\"><a href=\"#配置-vscode\" class=\"headerlink\" title=\"配置 vscode\"></a>配置 vscode</h2><p>首选项 =&gt; 设置 =&gt; settings.json</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 私货，比较喜欢的主题</span></span><br><span class=\"line\">    <span class=\"string\">\"workbench.colorTheme\"</span>: <span class=\"string\">\"One Dark Pro\"</span>,</span><br><span class=\"line\">    <span class=\"comment\">// vscode默认启用了根据文件类型自动设置tabsize的选项</span></span><br><span class=\"line\">    <span class=\"string\">\"editor.detectIndentation\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 重新设定tabsize</span></span><br><span class=\"line\">    <span class=\"string\">\"editor.tabSize\"</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 每次保存的时候自动格式化</span></span><br><span class=\"line\">    <span class=\"string\">\"editor.formatOnSave\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 每次保存的时候将代码按eslint格式进行修复</span></span><br><span class=\"line\">    <span class=\"string\">\"eslint.autoFixOnSave\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 添加 vue 支持</span></span><br><span class=\"line\">    <span class=\"string\">\"eslint.validate\"</span>: [</span><br><span class=\"line\">        <span class=\"string\">\"javascript\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"javascriptreact\"</span>,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"string\">\"language\"</span>: <span class=\"string\">\"vue\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"autoFix\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"comment\">// 让prettier使用eslint的代码格式进行校验，eslint6暂不兼容</span></span><br><span class=\"line\">    <span class=\"string\">\"prettier.eslintIntegration\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 去掉代码结尾的分号</span></span><br><span class=\"line\">    <span class=\"string\">\"prettier.semi\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 使用带引号替代双引号</span></span><br><span class=\"line\">    <span class=\"string\">\"prettier.singleQuote\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 让函数(名)和后面的括号之间加个空格</span></span><br><span class=\"line\">    <span class=\"string\">\"javascript.format.insertSpaceBeforeFunctionParenthesis\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 按用户自身习惯选择</span></span><br><span class=\"line\">    <span class=\"string\">\"vetur.format.defaultFormatter.html\"</span>: <span class=\"string\">\"js-beautify-html\"</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 让vue中的js按编辑器自带的ts格式进行格式化</span></span><br><span class=\"line\">    <span class=\"string\">\"vetur.format.defaultFormatter.js\"</span>: <span class=\"string\">\"vscode-typescript\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"vetur.format.defaultFormatterOptions\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"string\">\"js-beautify-html\"</span>: &#123;</span><br><span class=\"line\">            <span class=\"string\">\"wrap_attributes\"</span>: <span class=\"string\">\"force-aligned\"</span></span><br><span class=\"line\">            <span class=\"comment\">// #vue组件中html代码格式化样式</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"备注\"><a href=\"#备注\" class=\"headerlink\" title=\"备注\"></a>备注</h2><p>关于平时会用的<code>html、css、js</code>之类的，比较推荐使用插件<code>Beautify</code>,需要格式化的时候，直接打开<code>查看 =&gt; 命令面板</code>或者<code>command+shift+P</code>输入 beautify 即可（也可以自行配置启动命令）。</p>\n<p>类似 vscode 配置<a href=\"https://www.jianshu.com/p/f15b67c94c78\" target=\"_blank\" rel=\"noopener\">https://www.jianshu.com/p/f15b67c94c78</a></p>","categories":[{"name":"工具","path":"api/categories/工具.json"}],"tags":[{"name":"编辑器","path":"api/tags/编辑器.json"},{"name":"vscode","path":"api/tags/vscode.json"},{"name":"eslint","path":"api/tags/eslint.json"},{"name":"插件","path":"api/tags/插件.json"}]}